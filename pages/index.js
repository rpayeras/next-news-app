import styles from '../styles/Home.module.css'

import { PageLayout } from '../components/PageLayout'
import { useEffect, useState } from 'react'
import Image from 'next/image'

export default function Home({articles = []}) {
  return (
    <PageLayout title="Home">
      <div className={styles.container}>
        {
          articles.length === 0 && <p>Loading...</p>
        }

        {
          articles.length > 0 && articles.map((article, index) => (
          <article key={article.publishedAt}>
            <Image src={`/api/imageproxy?url=${encodeURIComponent(article.urlToImage)}`} 
              width={450} 
              height={250}
              layout="responsive"
              alt={`Image for the article ${article.title}`} 
              priority={index < 2}
              placeholder='blur'
              blurDataURL="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"
            />
            <h2>{article.title}</h2>
            <p>{article.description}</p>
          </article>
          ))}
        
      </div>
    </PageLayout>
  )
}

//This execute on server on every page load

// export async function getServerSideProps() {
//   try{
//     const response = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${process.env.NEWS_API_KEY}`)
//     const {articles} = await response.json()
    
//     return {
//       props: {
//         articles
//       }
//     }
//   } catch(err){
//     console.log(err)
//     return {
//       props: {
//         articles: []
//       }
//     }
//   }
// }

//It executes only in build time or refreshing page
export async function getStaticProps() {
  try{
    const response = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${process.env.NEWS_API_KEY}`)
    const {articles} = await response.json()
    
    return {
      props: {
        articles
      }
    }
  } catch(err){
    console.log(err)
    return {
      props: {
        articles: []
      }
    }
  }
}